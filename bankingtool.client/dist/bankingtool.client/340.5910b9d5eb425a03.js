"use strict";(self.webpackChunkbankingtool_client=self.webpackChunkbankingtool_client||[]).push([[340],{3340:(Z,g,n)=>{n.r(g),n.d(g,{ComponentModule:()=>I});var v=n(6895),S=n(529),a=n(433),f=n(6773),r=n(8256);let T=(()=>{const e=class{};let i=e;return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-home"]],decls:2,vars:0,template:function(o,s){1&o&&(r.TgZ(0,"h1"),r._uU(1,"home works!"),r.qZA())}}),i})();var y=n(9751);class m{}let d=(()=>{const e=class{constructor(){}getItem(t){return localStorage.getItem(t)}setItem(t,o){localStorage.setItem(t,o)}removeItem(t){localStorage.removeItem(t)}clear(){localStorage.clear()}get isLoggedIn(){return"true"==localStorage.getItem("isLoggedIn")}set isLoggedIn(t){localStorage.setItem("isLoggedIn",t.toString())}setAllData(t){console.log(t),t.forEach(o=>{this.setItem(o.key,o.value)})}};let i=e;return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),i})();var p=n(9216);let b=(()=>{const e=class{constructor(t,o){this.localStoreService=t,this.emitService=o,this.baseUrl=m.baseUrl,this.requestObj=(s="GET",c="DEFAULT",h)=>({method:s,headerType:c,body:h})}get(t,o=!0){return this.executeRequest(t,this.requestObj(l.GET,l.GET),o)}post(t,o,s=!0){return this.executeRequest(t,this.requestObj(l.POST,l.POST,JSON.stringify(o)),s)}executeRequest(t,o,s){return new y.y(c=>{let h=this.getFetchObject(o);s&&this.emitService.loaderEmitter.emit(!0),console.log(this.baseUrl+t),fetch(this.baseUrl+t,h).then(u=>this.handelResponse(u)).then(u=>{s&&this.emitService.loaderEmitter.emit(!1),c.next(u),c.complete()}).catch(u=>{c.error(u),c.complete()})})}getFetchObject(t){let o;o=t.headerType===l.POST?this.postHeaders():this.getHeaders();let s={method:t.method,headers:o,redirect:"follow",referrerPolicy:"no-referrer"};return t.body&&(s.body=t.body),s}getBaseHeaders(){const t=this.localStoreService.getItem("accessToken");let o={};return t&&(o.Authorization=`Bearer ${t}`),m.apiKey&&(o.ApiKey=m.apiKey),o}getHeaders(){let t=this.getBaseHeaders();return t.Accept="application/json",t.Pragma="no-cache",t["Cache-Control"]="no-cache",t}postHeaders(){let t=this.getBaseHeaders();return t.Accept="application/json",t["Content-Type"]="application/json",t}handelResponse(t){if(403==t.status)return t.json();if(t&&204!==t.status){if(t&&t.status>=500)throw t;return t.json()}}};let i=e;return e.\u0275fac=function(o){return new(o||e)(r.LFG(d),r.LFG(p.b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),i})(),l=(()=>{const e=class{};let i=e;return e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE",i})(),U=(()=>{const e=class{constructor(t){this.httpService=t}login(t){return this.httpService.get(`User/Login?email=${t.email}&password=${t.password}`)}createToken(t){return this.httpService.post("User/CreateToken",t)}};let i=e;return e.\u0275fac=function(o){return new(o||e)(r.LFG(b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),i})();const w=[{path:"home",title:"Home",component:T},{path:"login",title:"Login",component:(()=>{const e=class{constructor(t,o,s,c,h){this.loginService=t,this.router=o,this.localStoreService=s,this.emitService=c,this.formBuilder=h,this.loginForm=this.formBuilder.group({email:[null,[a.kI.required]],password:[null,[a.kI.required]]}),this.localStoreService.clear()}login(){this.loginForm.invalid||this.loginService.login(this.loginForm.value).subscribe(o=>{o.status&&this.loginService.createToken(o.result).subscribe(s=>{s.status&&(this.localStoreService.setAllData(s.result.claims),this.localStoreService.setItem("accessToken",s.result.accessToken),this.router.navigate(["home"]))})})}};let i=e;return e.\u0275fac=function(o){return new(o||e)(r.Y36(U),r.Y36(f.F0),r.Y36(d),r.Y36(p.b),r.Y36(a.qu))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-login"]],decls:26,vars:1,consts:[[1,"d-flex","align-items-center","justify-content-center","vh-100"],[1,"card","text-white"],[1,"card-body"],[1,"text-center","mb-4",2,"letter-spacing","2px","font-weight","bold"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email",1,"form-control"],[1,"text-muted",2,"font-size","0.8rem"],[1,"form-group","mb-4"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100"],[1,"text-center","mt-3"],["href","#",1,"text-white-50",2,"text-decoration","none","font-size","0.9rem"],[1,"text-center","mt-2"],[2,"font-size","0.9rem"],["href","#",1,"text-white",2,"font-weight","500","text-decoration","underline"]],template:function(o,s){1&o&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),r._uU(4,"Login"),r.qZA(),r.TgZ(5,"form",4),r.NdJ("ngSubmit",function(){return s.login()}),r.TgZ(6,"div",5)(7,"label",6),r._uU(8,"Email Address"),r.qZA(),r._UZ(9,"input",7),r.TgZ(10,"small",8),r._uU(11,"We'll never share your email with anyone else."),r.qZA()(),r.TgZ(12,"div",9)(13,"label",10),r._uU(14,"Password"),r.qZA(),r._UZ(15,"input",11),r.qZA(),r.TgZ(16,"button",12),r._uU(17,"Login"),r.qZA()(),r.TgZ(18,"div",13)(19,"a",14),r._uU(20,"Forgot Password?"),r.qZA()(),r.TgZ(21,"div",15)(22,"p",16),r._uU(23,"Don't have an account? "),r.TgZ(24,"a",17),r._uU(25,"Sign Up"),r.qZA()()()()()()),2&o&&(r.xp6(5),r.Q6J("formGroup",s.loginForm))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]}),i})()}];let I=(()=>{const e=class{};let i=e;return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[f.Bz.forChild(w),v.ez,S.JF,a.UX]}),i})()}}]);